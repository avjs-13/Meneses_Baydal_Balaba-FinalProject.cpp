#include <iostream>
#include <string>
using namespace std;


// I. REQUIRED FUNCTIONS (DECLARATIONS)

float calculateAverage(float g1, float g2, float g3, float g4, float g5);
float findHighest(float g1, float g2, float g3, float g4, float g5);
float findLowest(float g1, float g2, float g3, float g4, float g5);
float getGrade(float average);
int countPassing(float g1, float g2, float g3, float g4, float g5);


// II. REQUIRED FUNCTIONS (DEFINITIONS)

float calculateAverage(float g1, float g2, float g3, float g4, float g5) {
    return (g1 + g2 + g3 + g4 + g5) / 5.0;
}

float findHighest(float g1, float g2, float g3, float g4, float g5) {
    float highest = g1;
    if (g2 > highest) highest = g2;
    if (g3 > highest) highest = g3;
    if (g4 > highest) highest = g4;
    if (g5 > highest) highest = g5;
    return highest;
}

float findLowest(float g1, float g2, float g3, float g4, float g5) {
    float lowest = g1;
    if (g2 < lowest) lowest = g2;
    if (g3 < lowest) lowest = g3;
    if (g4 < lowest) lowest = g4;
    if (g5 < lowest) lowest = g5;
    return lowest;
}

float getGrade(float average) {
    if (average >= 96) return 1.0;
    else if (average >= 94) return 1.25;
    else if (average >= 92) return 1.5;
    else if (average >= 90) return 1.75;
    else if (average >= 88) return 2.0;
    else if (average >= 86) return 2.25;
    else if (average >= 84) return 2.5;
    else if (average >= 82) return 2.75;
    else if (average >= 80) return 3.0;
    else return 5.0;
}

int countPassing(float g1, float g2, float g3, float g4, float g5) {
    int count = 0;
    if (g1 >= 60) count++;
    if (g2 >= 60) count++;
    if (g3 >= 60) count++;
    if (g4 >= 60) count++;
    if (g5 >= 60) count++;
    return count;
}


// III. ADVANCED FEATURES

float getValidGrade(string subject) { // Input validation
    float grade;
    while (true) {
        cout << "Enter " << subject << " grade (0-100): ";
        cin >> grade;

        if (cin.fail()) { // Checks if the input is numerical
            cin.clear();
            cin.ignore(1000, '\n');
            cout << "Invalid input. Please enter a number.\n";
            continue;
        }
        if (grade < 0 || grade > 100) {
            cout << "Grade must be between 0 and 100.\n";
            continue;
        }
        break;
    }
    return grade;
}

void checkDirectorsList(float gwa) { // DL Check
    if (gwa <= 1.5) {
        cout << "ðŸŽ‰ Congratulations! You made it to the Director's List!\n";
    } else {
        cout << "Keep working hard! You can make the Director's List next time.\n";
    }
}

int main() {
    // Student Profile
    string name, id;
    int age, gradeLevel;

    cout << "========================================\n";
    cout << "        STUDENT GRADE CALCULATOR\n";
    cout << "========================================\n";

    cout << "=== STUDENT PROFILE SETUP ===\n";
    cout << "Enter student name: ";
    getline(cin, name);
    cout << "Enter student ID: ";
    cin >> id;
    cout << "Enter student age: ";
    cin >> age;
    cout << "Enter grade level: ";
    cin >> gradeLevel;

    cout << "\nProfile created successfully!\n\n";

    // Grade Entry
    cout << "=== GRADE ENTRY ===\n";
    float math = getValidGrade("Math");
    float science = getValidGrade("Science");
    float english = getValidGrade("English");
    float history = getValidGrade("History");
    float art = getValidGrade("Art");

    cout << "\nGrades recorded successfully!\n\n";

    // Calculations
    float average = calculateAverage(math, science, english, history, art);
    float highest = findHighest(math, science, english, history, art);
    float lowest = findLowest(math, science, english, history, art);
    float gwa = getGrade(average);
    int passCount = countPassing(math, science, english, history, art);

    // Identify highest/lowest subjects
    string highSubject, lowSubject;
    if (highest == math) highSubject = "Math";
    else if (highest == science) highSubject = "Science";
    else if (highest == english) highSubject = "English";
    else if (highest == history) highSubject = "History";
    else highSubject = "Art";

    if (lowest == math) lowSubject = "Math";
    else if (lowest == science) lowSubject = "Science";
    else if (lowest == english) lowSubject = "English";
    else if (lowest == history) lowSubject = "History";
    else lowSubject = "Art";

    // Report Card
    cout << "========================================\n";
    cout << "           STUDENT REPORT CARD\n";
    cout << "========================================\n";

    cout << "STUDENT INFORMATION:\n";
    cout << "Name: " << name << endl;
    cout << "ID: " << id << endl;
    cout << "Age: " << age << " years old\n";
    cout << "Grade Level: " << gradeLevel << "th grade" << endl;
    cout << "Birth Year: " << 2025 - age << "\n" ;

    cout << "\nSUBJECT GRADES:\n";
    cout << "Math: " << math << "%\n";
    cout << "Science: " << science << "%\n";
    cout << "English: " << english << "%\n";
    cout << "History: " << history << "%\n";
    cout << "Art: " << art << "%\n";

    cout << "\nGRADE STATISTICS:\n";
    cout << "Average Grade: " << average << "%\n";
    cout << "Grade Equivalent (GWA): " << gwa << endl;
    cout << "Highest Grade: " << highest << "% (" << highSubject << ")\n";
    cout << "Lowest Grade: " << lowest << "% (" << lowSubject << ")\n";
    cout << "Subjects Passing: " << passCount << " out of 5\n";

    cout << "\n=== DIRECTOR'S LIST CHECK ===\n";
    checkDirectorsList(gwa);

    cout << "========================================\n";
    return 0;
}
